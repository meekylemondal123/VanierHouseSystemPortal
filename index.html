<!DOCTYPE HTML>
<html>
  <head>
    <title>Vanier's House System Portal</title>
    <style>
      h1 {
        text-align: center;
      }
    </style>
  </head>
  
  <script>
    // This function right here works perfectly, maybe make it so that it does this at the beginning, when the website loads? 
    const filePath = "Names.txt";
    let result;
    
    function loadFile(){
      var xmlhttp = new XMLHttpRequest();
      xmlhttp.open("GET", filePath, false);
      xmlhttp.send();
      
      if (xmlhttp.status == 200) {
        result = xmlhttp.responseText.split(" ");
      }
    }
    
    function findHouseTeam(){
      // Here figure out how to find the user's name
      let valour = "Valour";
      let justice = "Justice";
      let wisdom = "Wisdom";
      let harmony = "Harmony";
      
      let fullName = document.getElementById("fullNameInput").value;
      let fullNameArray = fullName.split(" ");
      
      for (i = 0; i < result.length; i++){
        // Checking if the first name is the same 
        if (result[i] == fullNameArray[0]){
          // Checking if the last name is the same 
          if (result[i + fullNameArray.length - 2] == fullNameArray[fullNameArray.length - 1]){
            document.getElementById("HouseTeamName").innerHTML = result[i + fullNameArray.length - 1];
            break;
          }
        }
      }
    }
    
  </script>
  <body onload="loadFile()">
    <h1 id="TestMessage">Welcome to Vanier's House System Portal!</h1>
    <label for="fullNameInput">Please enter your full name (according to the attendance): </label>
    <input type="text" id="fullNameInput" name="fullNameInput">
    <button onclick="findHouseTeam()">Find Your House Team!</button>
    <p id="HouseTeamName"></p>
   </body>
</html>
