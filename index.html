<!DOCTYPE HTML>
<html>
  <head>
    <title>Vanier's House System Portal</title>
    <style>
      h1 {
        text-align: center;
      }
    </style>
  </head>
  
  <script>
    // This function right here works perfectly, maybe make it so that it does this at the beginning, when the website loads? 
    const filePath = "Names.txt";
    let result;
    
    function loadFile(){
      var xmlhttp = new XMLHttpRequest();
      xmlhttp.open("GET", filePath, false);
      xmlhttp.send();
      
      if (xmlhttp.status == 200) {
        result = xmlhttp.responseText
        result = result.split("\n")
      }
    }
    
    function findHouseTeam(){
      let userInput = document.getElementById("fullNameInput").value;
      
      for (let i = 0; i < result.length; i++){
        if (result[i].toLowerCase().includes(userInput.toLowerCase())){
          let userArray = result[i].split(" ");
          // This is only if there is a space after the student's line in the notepad file, make sure to change it to 1 when properly formated 
          document.getElementById("HouseTeamName").innerHTML = userArray[userArray.length - 2];
          console.log(userArray[userArray.length - 1]);
        }
      }
    }
    
  </script>
  <body onload="loadFile()">
    <h1 id="TestMessage">Welcome to Vanier's House System Portal!</h1>
    <label for="fullNameInput">Please enter your full name (according to the attendance): </label>
    <input type="text" id="fullNameInput" name="fullNameInput">
    <button onclick="findHouseTeam()">Find Your House Team!</button>
    <p id="HouseTeamName"></p>
   </body>
</html>
